[registries.crates-io]
# Force the older git index protocol to bypass proxies that block the
# HTTPS sparse registry (`https://index.crates.io`). GitHub access is often
# still allowed in locked-down CI environments (e.g. AWS CodeBuild with
# restrictive proxies), so switching protocols gives Cargo an alternate path
# to download crates.
protocol = "git"

[source.crates-io]
registry = "https://github.com/rust-lang/crates.io-index"

[net]
retry = 3
# Prefer libgit2 HTTP(S) fetching instead of shelling out to the `git` CLI.
# Some corporate proxies block CONNECT tunneling used by the CLI, while the
# library implementation can fall back to plain HTTPS requests that pass
# through filtering appliances.
git-fetch-with-cli = false
# Leave offline disabled by default so builds can fetch when connectivity is
# available. To force a cached/offline build in locked-down environments, set
# `CARGO_NET_OFFLINE=true` in the CI/CD job.
offline = false
